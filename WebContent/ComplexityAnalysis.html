<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<header>
CSE601 Project 1: Data Warehouse/OLAP System
</header>
<nav>
	<div class="nav-sections">
		<ul>
			<li>Basic Understanding of Data</li>
			<li><a href="OLAP.html">DW/OLAP Concepts</a></li>
			<li>Schema Design</li>
			<li><a href="ComplexityAnalysis.html">Sample Queries with Complexity Analysis</a></li>
			<li><a href="statisticalAnalysis.html">Statistical Analysis</a></li>
			<li>Design Pattern and system architecture</li>
		</ul>
	</div>
	<div class = "nav-sections" style="background-color: rgba(46, 156, 116, 0.72);">
		<h4 style="    margin-bottom: -9px;">Our Team</h4>
		<ul>
			<li>Abha Khanna</li>
			<li>Utsav Beri</li>
			<li>Manpreet Arora</li>
		</ul>
	</div>
	
	<div class = "nav-sections" 
	style="background-color: rgba(35, 79, 111, 0.72);">
		<h4 style="    margin-bottom: -9px;">Special thank</h4>
		<ul>
			<li>Aidong Zhang</li>
			<li>Jing Gao</li>
			<li>Tianle Ma</li>
			
			
		</ul>
	</div>
</nav>

<div class="content">
<h2>Sample Queries with Complexity Analysis</h2>
List the number of patients who had <input type="text" id="diseaseDescription" value="tumor"> (disease description) : <span id="query1_1"></span></span><br/>
List the number of patients who had <input type="text" id="diseaseType" value="leukemia"> (disease type)  : <span id="query1_2"></span><br/>
List the number of patients who had <input type="text" id="diseaseName" value="ALL"> (disease name)  : <span id="query1_3"></span><br/>
<button onclick="query1()">Go</button><br/><br/>
List the types of drugs which have been applied to patients with  <input type="text" id="q2DiseaseDescription" value="tumor"> (disease description)  : 
<span id="query2"></span><br/>
<button onclick="query2()">Go</button><br/><br/>

List the MrnaExpression values for the patients with disease name <input type="text" id="q3DiseaseName" value="ALL">
 cluster id  <input type="text" id="q3clusterId" value="2">
and measurement unit id  <input type="text" id="q3muId" value="1"> : 
<span id="query3"></span><br/>
<button onclick="query3()">Go</button><br/><br/>
</div>
<script>
function arrayToHtml(arr){
	return arr.join(", ")+" (count = "+arr.length+")";
}
function query3(){
	$.get( "/Project1Dm/rest/biomedicalDa/listMRNAExpressions",{diseaseName: $('#q3DiseaseName').val(),
		clusterId: $('#q3clusterId').val(), muId: $('#q3muId').val()})
	  .done(function(d) {$('#query3').html(arrayToHtml(JSON.parse(d))); })
	  .fail(function(e) {console.log("error",e); })
}
function query2(){
	$.get( "/Project1Dm/rest/biomedicalDa/listOfDrugsAppliedToPatientsWith",{diseaseDescription: $('#q2DiseaseDescription').val()})
	  .done(function(d) {$('#query2').html(d); })
	  .fail(function(e) {console.log("error",e); })
}
function query1(){
	query1_1();
	query1_2();
	query1_3();
}
function query1_1(){
	$.get( "/Project1Dm/rest/biomedicalDa/numOfPatientsWithDiseasesByDescription",{description: $('#diseaseDescription').val()})
	  .done(function(d) {$('#query1_1').html(d); })
	  .fail(function(e) {console.log("error",e); })
}

function query1_2(){
	$.get( "/Project1Dm/rest/biomedicalDa/numOfPatientsWithDiseasesByType",{type:$('#diseaseType').val()})
	  .done(function(d) {$('#query1_2').html(d); })
	  .fail(function(e) {console.log("error",e); })
}

function query1_3(){
	$.get( "/Project1Dm/rest/biomedicalDa/numOfPatientsWithDiseasesByName",{name:$('#diseaseName').val()})
	  .done(function(d) {$('#query1_3').html(d); })
	  .fail(function(e) {console.log("error",e); })
}
</script>
</body>
</html>